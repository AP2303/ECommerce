<div class="backdrop"></div>
<header class="main-header">
    <button id="side-menu-toggle">Menu</button>
    <nav class="main-header__nav">
        <ul class="main-header__item-list">
            <li class="main-header__item">
                <a class="<%= path === '/' ? 'active' : '' %>" href="/">Shop</a>
            </li>
            <li class="main-header__item">
                <a class="<%= path === '/shop/product-list' ? 'active' : '' %>" href="/product-list">Products</a>
            </li>
            <li class="main-header__item">
                <a class="<%= path === '/shop/cart' ? 'active' : '' %>" href="/cart">Cart</a>
            </li>
            <li class="main-header__item">
                <a class="<%= path === '/shop/orders' ? 'active' : '' %>" href="/orders">Orders</a>
            </li>

            <% if (locals.isAuthenticated && locals.currentRole === 'Administrator') { %>
            <li class="main-header__item">
                <a class="<%= path === '/admin/add-product' ? 'active' : '' %>" href="/admin/add-product">Add Product
                </a>
            </li>
            <li class="main-header__item">
                <a class="<%= path === '/admin/product-list' ? 'active' : '' %>" href="/admin/product-list">Admin Products
                </a>
            </li>
            <% } %>

            <% if (locals.isAuthenticated && (locals.currentRole === 'Warehouse' || locals.currentRole === 'Administrator')) { %>
            <li class="main-header__item">
                <a class="<%= path === '/warehouse/inventory' ? 'active' : '' %>" href="/warehouse/inventory">Inventory
                </a>
            </li>
            <% } %>

            <% if (locals.isAuthenticated && (locals.currentRole === 'Finance' || locals.currentRole === 'Administrator')) { %>
            <li class="main-header__item">
                <a class="<%= path === '/payment/dashboard' ? 'active' : '' %>" href="/payment/dashboard">Payments
                </a>
            </li>
            <% } %>

            <% if (locals.isAuthenticated) { %>
             <li class="main-header__item">
                <span style="color: #666; margin-right: 10px;">Hi, <%= locals.currentUser.name %>!</span>
             </li>
             <li class="main-header__item">
                <button  id="logout" class="">Log Out</button>
            </li>
            <% } else { %>
             <li class="main-header__item">
                <a href="/login">Log In</a>
            </li>
             <li class="main-header__item">
                <a href="/register" style="background: #667eea; color: white; padding: 8px 16px; border-radius: 6px; text-decoration: none;">Sign Up</a>
            </li>
            <% } %>
        </ul>
    </nav>
</header>

<nav class="mobile-nav">
        <ul class="mobile-nav__item-list">
                <li class="mobile-nav__item">
                    <a class="<%= path === '/' ? 'active' : '' %>" href="/">Shop</a>
                </li>
                <li class="mobile-nav__item">
                    <a class="<%= path === '/products' ? 'active' : '' %>" href="/product-list">Products</a>
                </li>
                <li class="mobile-nav__item">
                    <a class="<%= path === '/cart' ? 'active' : '' %>" href="/cart">Cart</a>
                </li>
                <li class="mobile-nav__item">
                    <a class="<%= path === '/orders' ? 'active' : '' %>" href="/orders">Orders</a>
                </li>
                <% if (locals.isAuthenticated && locals.currentRole === 'Administrator') { %>
                <li class="mobile-nav__item">
                    <a class="<%= path === '/admin/add-product' ? 'active' : '' %>" href="/admin/add-product">Add Product
                    </a>
                </li>
                <li class="mobile-nav__item">
                    <a class="<%= path === '/admin/products' ? 'active' : '' %>" href="/admin/product-list">Admin Products
                    </a>
                </li>
                <% } %>
            </ul>
</nav>
<!-- Logout functionality handled by /js/main.js -->

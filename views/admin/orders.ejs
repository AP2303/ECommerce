<%- include('../includes/head.ejs') %>
<link rel="stylesheet" href="/css/main.css">
</head>
<body>
  <%- include('../includes/navigation.ejs') %>
  <main style="max-width:1100px;margin:20px auto;padding:20px;">
    <h1>Orders</h1>
    <p style="color:#666;">Manage orders â€” filter by status using the links on the admin dashboard.</p>

    <% if (orders && orders.length) { %>
      <table style="width:100%;border-collapse:collapse;margin-top:12px;background:#fff;">
        <thead>
          <tr style="background:#f8f9fa;text-align:left;">
            <th style="padding:10px;">Order #</th>
            <th style="padding:10px;">Date</th>
            <th style="padding:10px;">Total</th>
            <th style="padding:10px;">Status</th>
            <th style="padding:10px;">Actions</th>
          </tr>
        </thead>
        <tbody>
          <% orders.forEach(o => { %>
            <tr style="border-bottom:1px solid #eee;">
              <td style="padding:10px;"><a href="/admin/orders/<%= o.id %>"><%= o.orderNumber || o.id %></a></td>
              <td style="padding:10px;"><%= new Date(o.createdAt).toLocaleString() %></td>
              <td style="padding:10px;">$<%= (o.totalAmount || 0).toFixed(2) %></td>
              <td style="padding:10px;"> <%= o.status %> </td>
              <td style="padding:10px;"><a href="/admin/orders/<%= o.id %>">View</a></td>
            </tr>
          <% }) %>
        </tbody>
      </table>
    <% } else { %>
      <p>No orders found.</p>
    <% } %>
  </main>
<%- include('../includes/end.ejs') %>
